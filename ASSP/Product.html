<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ASAP</title>
    <!-- swiper js cdn link -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@7/swiper-bundle.min.css"
    />
    <!-- Custom CSS link -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- Font Awsome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <!-- Custom Mouse Cursor using kursor.js-->
    <script src="https://cdn.jsdelivr.net/npm/kursor@0.0.14/dist/kursor.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/kursor/dist/kursor.css" />
    <link rel="icon" href="images/logo.png" type="image/gif" sizes="16x16" />
    <script src="https://js.stripe.com/v3/"></script>
    <style>
      /* Modal */
      .modal {
        display: block;
        position: fixed;
        z-index: 1000;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 80%; /* Adjust width as needed */
        max-width: 600px; /* Adjust max-width as needed */
        background-color: #fff; /* Change background color to white */
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        padding: 20px;
      }

      /* Modal Content */
      .modal-content h2 {
        font-size: 24px;
        margin-bottom: 20px;
      }
      .modal-content button {
        display: block;
        width: 100%;
        padding: 10px 0;
        margin-bottom: 10px;
        text-align: center;
        background-color: #007bff;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      .modal-content button:last-child {
        margin-bottom: 0;
      }

      .modal-content button:hover {
        background-color: #0056b3;
      }
      /* Close Button */
      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
      }
      /* Styling for Orange Money content */
      .orange-money-text {
        color: #333; /* Change text color as needed */
        font-size: 16px; /* Change font size as needed */
        line-height: 1.5; /* Change line height as needed */
      }
      #orange-money-content {
        display: none; /* Start by hiding the content */
        /* Add other styling properties as needed */
      }

      .close:hover,
      .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
      }
    </style>
  </head>

  <!--Start of Tawk.to Script-->
  <script type="text/javascript">
    var Tawk_API = Tawk_API || {},
      Tawk_LoadStart = new Date();
    (function () {
      var s1 = document.createElement("script"),
        s0 = document.getElementsByTagName("script")[0];
      s1.async = true;
      s1.src = "https://embed.tawk.to/65099051b1aaa13b7a77b00f/1hamlng4o";
      s1.charset = "UTF-8";
      s1.setAttribute("crossorigin", "*");
      s0.parentNode.insertBefore(s1, s0);
    })();
  </script>
  <!--End of Tawk.to Script-->
  <body>
    <!-- Header Section Start -->
    <header class="header">
      <a href="#" class="logo">
        <img
          src="./Images/new.png"
          alt="ASAP"
          style="width: 120px; height: 50px"
        />
      </a>
      <nav class="navbar">
        <a href="./index.html">Home</a>
        <a href="./index.html#products">Services</a>
        <a href="./Login And Registration.html">Become a Buyer?</a>
        <a href="./BecomeSeller.html">Become a Professional?</a>
      </nav>

      <div class="icons">
        <div class="fas fa-bars" id="menu-btn"></div>
        <div class="fas fa-search" id="search-btn"></div>
        <div class="fas fa-user" id="login-btn"></div>
        <div class="fas fa-sign-out-alt" id="logout-btn"></div>
      </div>
      <script>
        // Add event listener to the logout button
        document
          .getElementById("logout-btn")
          .addEventListener("click", function () {
            // Fetch request to logout endpoint
            fetch("https://asap-new-backend.vercel.app/logout", {
              method: "POST",
              headers: {
                Authorization: "Bearer " + localStorage.getItem("token"), // Assuming token is stored in localStorage
              },
            })
              .then((response) => {
                if (!response.ok) {
                  throw new Error("Failed to logout");
                }
                // Clear token from localStorage upon successful logout
                localStorage.removeItem("token");
                // Clear user ID from localStorage or memory
                localStorage.removeItem("userId"); // Assuming user ID is stored in localStorage
                // Log a message in the console indicating successful logout
                alert("Your account is Logged out. Thank You!");
                // Redirect to login page or perform other actions as needed
                window.location.href = "./index.html"; // Redirect to login page
              })
              .catch((error) => {
                console.error("Error logging out:", error);
                // Handle error accordingly
              });
          });
      </script>
      <form action="" class="search-form">
        <input type="search" id="search-box" placeholder="Search here..." />
        <label for="search-box" class="fas fa-search"></label>
      </form>
    </header>
    <!-- Header Section End -->

    <!-- Banner Section Start -->

    <section class="home" id="home">
      <div class="content">
        <h3 style="color: white">
          <span>Quick</span> and <span>Quality </span>Services for You
        </h3>
        <p style="color: white">
          Welcome to ASAP - Your Premier Destination for Quick and Quality
          Services. Find Quality Service Providers To Suit Your Needs.
        </p>
        <a style="color: white; border-color: white" href="#" class="btn"
          >Book now</a
        >
      </div>
    </section>

    <!-- Banner Section End -->

    <!-- Products Section Start -->

    <section class="products" id="products">
      <h1 class="heading">Our <span>Services</span></h1>

      <div class="swiper product-slider" id="product-slider">
        <!-- First row -->
        <div class="swiper-container" id="row1-slider">
          <div class="swiper-wrapper" id="row1-wrapper">
            <!-- Product cards for the first row will be added here dynamically -->
          </div>
        </div>

        <!-- Second row -->
        <div class="swiper-container" id="row2-slider">
          <div class="swiper-wrapper" id="row2-wrapper">
            <!-- Product cards for the second row will be added here dynamically -->
          </div>
        </div>

        <!-- Third row -->
        <div class="swiper-container" id="row3-slider">
          <div class="swiper-wrapper" id="row3-wrapper">
            <!-- Product cards for the third row will be added here dynamically -->
          </div>
        </div>

        <!-- Fourth row -->
        <div class="swiper-container" id="row4-slider">
          <div class="swiper-wrapper" id="row4-wrapper">
            <!-- Product cards for the fourth row will be added here dynamically -->
          </div>
        </div>

        <!-- Fifth row -->
        <div class="swiper-container" id="row5-slider">
          <div class="swiper-wrapper" id="row5-wrapper">
            <!-- Product cards for the fifth row will be added here dynamically -->
          </div>
        </div>

        <!-- Sixth row -->
        <div class="swiper-container" id="row6-slider">
          <div class="swiper-wrapper" id="row6-wrapper">
            <!-- Product cards for the sixth row will be added here dynamically -->
          </div>
        </div>

        <!-- Seventh row -->
        <div class="swiper-container" id="row7-slider">
          <div class="swiper-wrapper" id="row7-wrapper">
            <!-- Product cards for the seventh row will be added here dynamically -->
          </div>
        </div>

        <!-- Eighth row -->
        <div class="swiper-container" id="row8-slider">
          <div class="swiper-wrapper" id="row8-wrapper">
            <!-- Product cards for the eighth row will be added here dynamically -->
          </div>
        </div>

        <!-- Ninth row -->
        <div class="swiper-container" id="row9-slider">
          <div class="swiper-wrapper" id="row9-wrapper">
            <!-- Product cards for the ninth row will be added here dynamically -->
          </div>
        </div>

        <!-- Tenth row -->
        <div class="swiper-container" id="row10-slider">
          <div class="swiper-wrapper" id="row10-wrapper">
            <!-- Product cards for the tenth row will be added here dynamically -->
          </div>
        </div>
      </div>
    </section>

    <!-- Products Section End -->
    <!-- Orange Money content -->
    <div id="orange-money-content" style="display: none">
      <p>
        To make a merchandise payment, please dial <b>#150*47#</b> then type the
        merchandise code 803233. You will then see the name of the enterprise
        ESA Sarl. You will be able to enter the amount to pay and confirm the
        payment.
      </p>
    </div>
    <!-- Footer Section Start -->

    <section class="footer">
      <div class="box-container">
        <div class="box">
          <!-- <h3>As Soon As Possible </h3> -->
          <a href="#" class="logo">
            <img
              src="./Images/new.png"
              alt="ASAP"
              style="width: 120px; height: 50px"
            />
          </a>
          <p>Get Quick and Quality Services Tailored Just For You!</p>
          <div class="share">
            <a href="#" class="fab fa-facebook-f"></a>
            <a href="#" class="fab fa-twitter"></a>
            <a href="#" class="fab fa-instagram"></a>
            <a href="#" class="fab fa-linkedin"></a>
          </div>
          <div>
            <!-- <a style="color: rgb(17, 1, 1); border-color: white;" href="./admin-panel/index.html" class="btn">Administrator</a> -->
          </div>
        </div>
        <div class="box">
          <h3>contact info</h3>
          <a href="#" class="links">
            <i class="fas fa-phone"></i> +13016060756
          </a>
          <a href="#" class="links">
            <i class="fas fa-phone"></i> +13016060756
          </a>
          <a href="#" class="links">
            <i class="fas fa-envelope"></i> inquiriesesa@gmail.com
          </a>
          <a href="#" class="links">
            <i class="fas fa-map-marker-alt"></i> Maryland, USA
          </a>
        </div>
        <div class="box">
          <h3>quick links</h3>
          <a href="./index.html" class="links">
            <i class="fas fa-arrow-right"></i> Home
          </a>
          <a href="./index.html#features" class="links">
            <i class="fas fa-arrow-right"></i> Features
          </a>
          <a href="./index.html#services" class="links">
            <i class="fas fa-arrow-right"></i> Services
          </a>
          <a href="./Login And Registration.html" class="links">
            <i class="fas fa-arrow-right"></i> Sign up to find Services
          </a>
        </div>
        <div class="box">
          <h3>Explore Services</h3>
          <a
            href="https://getasapservice.com/Product.html?categoryId=655d9cebc4dfadac49f74de9"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Education
          </a>
          <a
            href="https://getasapservice.com/Product.html?categoryId=655d9d34c4dfadac49f74def"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Administrative</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=655d9dcbc4dfadac49f74df3"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> HouseHold</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=655d9e11c4dfadac49f74df6"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> HealthCare</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=656242cc962dfa610e66c992"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Construction</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=65c1244139044b23990949a7"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Attorney</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=65c12892bf65e74a325705a6"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Human Resource Consulting</a
          >
          <a
            href="https://getasapservice.com/Product.html?categoryId=65c12ab5577c446874171e3e"
            class="links"
          >
            <i class="fas fa-arrow-right"></i> Accounting and finance</a
          >
        </div>
      </div>
      <div class="credit"><span></span> all rights reserved</div>
    </section>

    <!-- Footer Section End -->

    <!-- Custom Mouse Cursor using kursor.js Start -->
    <!-- Not apply in responsive design -->
    <script>
      new kursor({
        type: 1,
      });
    </script>

    <script src="https://www.gstatic.com/firebasejs/5.5.9/firebase.js"></script>
    <!-- Swiper js link -->
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>

    <!-- Custom JS link -->
    <script src="js/style.js"></script>
    <script>
      let userId = localStorage.getItem("userId");
      const orangeMoneyButton = document.getElementById("orange-money-button");
      const orangeMoneyContent = document.getElementById(
        "orange-money-content"
      );
      // Function to fetch and display products based on the selected category ID
      const fetchAndDisplayProducts = async () => {
        try {
          // Extract the category ID from the URL
          const urlParams = new URLSearchParams(window.location.search);
          const categoryId = urlParams.get("categoryId");

          // Fetch products based on the selected category
          const response = await fetch(
            `https://asap-new-backend.vercel.app/product?categoryId=${categoryId}`
          );
          const productsData = await response.json();

          // Get the Swiper containers for the ten rows
          const row1Slider = new Swiper("#row1-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row2Slider = new Swiper("#row2-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row3Slider = new Swiper("#row3-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row4Slider = new Swiper("#row4-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row5Slider = new Swiper("#row5-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row6Slider = new Swiper("#row6-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row7Slider = new Swiper("#row7-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row8Slider = new Swiper("#row8-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 1000, // 1 second delay between slides
            },
          });

          const row9Slider = new Swiper("#row9-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
          });

          const row10Slider = new Swiper("#row10-slider", {
            slidesPerView: 4,
            spaceBetween: 20,
            wrapperClass: "swiper-wrapper",
            slideClass: "swiper-slide",
            navigation: {
              nextEl: ".swiper-button-next",
              prevEl: ".swiper-button-prev",
            },
            autoplay: {
              delay: 2000, // 1 second delay between slides
            },
          });

          // Function to create product cards and add them to the Swiper containers
          const createProductCards = (data) => {
            data.forEach((product, index) => {
              const productCard = document.createElement("div");
              productCard.classList.add("swiper-slide", "box", "swiper-slide");

              // Use a static image for all products
              const productImage = document.createElement("img");
              productImage.src = product.image;
              productImage.alt = product.name;

              const productName = document.createElement("h3");
              productName.textContent = product.name;

              const bookNowButton = document.createElement("a");
              bookNowButton.textContent = "Book now";
              bookNowButton.classList.add("btn");

              // Add event listener to the bookNowButton
              // Add event listener to the bookNowButton
              bookNowButton.addEventListener("click", async () => {
                // Create modal
                const paystatus = localStorage.getItem("payStatus");
                const modal = document.createElement("div");
                modal.classList.add("modal");
                const productId = product._id;
                if (paystatus === "true") {
                  checkExpire(productId);
                  // window.location.href=`/ASSP/card.html?productId=${headers.product}&zipCode=${headers.zipcode || ''}&city=${headers.city || ''}`
                  // window.location.href="ASSP/card.html"
                } else {
                  // Modal content
                  const modalContent = document.createElement("div");
                  modalContent.classList.add("modal-content");
                  const closeButton = document.createElement("span");
                  closeButton.innerHTML = "&times;"; // HTML entity for cross icon
                  closeButton.classList.add("close");
                  closeButton.addEventListener("click", () => {
                    modal.style.display = "none";
                  });
                  modalContent.appendChild(closeButton);
                  // Payment gateway selection
                  const heading = document.createElement("h2");
                  heading.textContent = "Choose Payment Gateway";
                  modalContent.appendChild(heading);

                  // Stripe button
                  const stripeButton = document.createElement("button");
                  stripeButton.textContent = "Card Payment";
                  stripeButton.classList.add("btn");
                  stripeButton.addEventListener("click", async () => {
                    // Call Stripe checkout API
                    await callStripeCheckoutAPI();
                    // Close modal after processing
                    modal.style.display = "none";
                  });
                  modalContent.appendChild(stripeButton);

                  // Orange Money button
                  const orangeMoneyButton = document.createElement("button");
                  orangeMoneyButton.textContent = "Orange Money";
                  orangeMoneyButton.classList.add("btn");
                  // Add event listener for Orange Money button
                  // Add event listener to the orangeMoneyButton
                  // Add event listener to the orangeMoneyButton
                  // Add event listener to the orangeMoneyButton
                  // Add event listener to the orangeMoneyButton
                  // Add event listener to the Orange Money button
                  const createOrangeMoneyContent = () => {
                    const orangeMoneyContent = document.createElement("div");
                    orangeMoneyContent.classList.add("orange-money-text");
                    // orangeMoneyContent.innerHTML = 'To make a merchandise payment, please dial <b>#150*47#</b> then type the merchandise code 803233. You will then see the name of the enterprise ESA Sarl. You will be able to enter the amount to pay and confirm the payment. After the payment send the Screen Shot to ';
                    orangeMoneyContent.innerHTML =
                      "To make a merchandise payment, please dial <b>#150*47#</b> then type the merchandise code 803233. You will then see the name of the enterprise ESA Sarl. You will be able to enter the amount to pay and confirm the payment. After the payment send the Screen Shot to <b>inquiriesesa@gmail.com</b>.";

                    const sendRequestButton = document.createElement("button");
                    sendRequestButton.textContent = "Send Request";
                    sendRequestButton.classList.add("btn");

                    // Attach event listener to the "Send Request" button
                    sendRequestButton.addEventListener("click", () => {
                      // Define the data you want to send in the request body
                      const requestData = {
                        userId: userId, // Assuming userId is defined somewhere in your code
                      };

                      // Make the HTTP POST request to the API endpoint
                      fetch("https://asap-new-backend.vercel.app/postRequest", {
                        method: "POST",
                        headers: {
                          "Content-Type": "application/json",
                        },
                        body: JSON.stringify(requestData),
                      })
                        .then((response) => {
                          if (!response.ok) {
                            throw new Error("Network response was not ok");
                          }
                          return response.json();
                        })
                        .then((data) => {
                          // Process the response data
                          // console.log(data);
                          // Assuming you want to display some feedback to the user
                          alert("Your request has been sent"); // or do something else with the data
                        })
                        .catch((error) => {
                          // Handle errors
                          console.error(
                            "There was a problem with the fetch operation:",
                            error
                          );
                          // Assuming you want to display an error message to the user
                          alert(
                            "An error occurred while processing your request. Please try again later."
                          );
                        });
                    });

                    // Append the "Send Request" button to the modal content
                    modalContent.appendChild(sendRequestButton);
                    return orangeMoneyContent;
                  };

                  // Add event listener for Orange Money button
                  // Variable to keep track of Orange Money content visibility
                  let orangeMoneyContentVisible = false;

                  // Add event listener for Orange Money button
                  orangeMoneyButton.addEventListener("click", () => {
                    if (!orangeMoneyContentVisible) {
                      // Create Orange Money content and append it to the modal content
                      const orangeMoneyContent = createOrangeMoneyContent();
                      modalContent.appendChild(orangeMoneyContent);
                      orangeMoneyContentVisible = true;
                    } else {
                      // Toggle the visibility of the content
                      const existingOrangeMoneyContent =
                        modalContent.querySelector("#orange-money-content");
                      existingOrangeMoneyContent.style.display =
                        existingOrangeMoneyContent.style.display === "none"
                          ? "block"
                          : "none";
                    }
                  });

                  modalContent.appendChild(orangeMoneyButton);

                  // Close button
                  // Close button

                  // Append modal content to modal
                  modal.appendChild(modalContent);

                  // Display modal
                  document.body.appendChild(modal);
                  // Add styling for modal and modal content (CSS)
                  // Adjust CSS to fit your styling needs
                  // Example:
                }
              });
              const orangeMoneyButton = document.getElementById(
                "orange-money-button"
              );
              const orangeMoneyContent = document.getElementById(
                "orange-money-content"
              );

              // Function to call Stripe checkout API
              const callStripeCheckoutAPI = async () => {
                // Retrieve productId from the product data
                const productId = product._id;
                const userId = localStorage.getItem("userId");
                if (!userId) {
                  // Redirect to login page if userId is missing
                  window.location.href = "./Login And Registration.html";
                  return;
                } // Redirect to card.html with the productId in the URL
                const checkoutSessionResponse = await fetch(
                  "https://asap-new-backend.vercel.app/create-checkout-session",
                  {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                      userId: userId,
                      productId: productId, // Include productId
                    }),
                  }
                );
                const checkoutSessionData =
                  await checkoutSessionResponse.json();
                const stripe = Stripe(
                  "pk_live_51OOyuMH9HQ2Ek1tPqeD7UxC2prsw4CcFvR7EGm0peMViAi2daLpliXTbDpGP5FPiysdNKL6If9glg5B1wGV4EymV00zFk8LWQ7"
                );

                // Redirect to the Stripe Checkout page
                const { error } = await stripe.redirectToCheckout({
                  sessionId: checkoutSessionData.sessionId,
                });
                if (error) {
                  console.error(
                    "An error occurred during Stripe checkout:",
                    error
                  );
                }
              };

              // Append elements to the product card
              productCard.appendChild(productImage);
              productCard.appendChild(productName);
              productCard.appendChild(bookNowButton);

              // Add product card to the appropriate Swiper container
              if (index < 4) {
                row1Slider.appendSlide(productCard);
              } else if (index < 8) {
                row2Slider.appendSlide(productCard);
              } else if (index < 12) {
                row3Slider.appendSlide(productCard);
              } else if (index < 16) {
                row4Slider.appendSlide(productCard);
              } else if (index < 20) {
                row5Slider.appendSlide(productCard);
              } else if (index < 24) {
                row6Slider.appendSlide(productCard);
              } else if (index < 28) {
                row7Slider.appendSlide(productCard);
              } else if (index < 32) {
                row8Slider.appendSlide(productCard);
              } else if (index < 36) {
                row9Slider.appendSlide(productCard);
              } else {
                row10Slider.appendSlide(productCard);
              }
            });
          };

          // Create product cards
          createProductCards(productsData.products);
        } catch (error) {
          console.error("Error fetching or logging data:", error);
        }
      };
      // Call the function when the page is loaded
      window.onload = fetchAndDisplayProducts;

      async function checkExpire(productId) {
        const userId = localStorage.getItem("userId");

        try {
          const res = await fetch(
            `https://asap-new-backend.vercel.app/checkExpired/${userId}`,
            {
              method: "GET",
              headers: {
                "Content-Type": "application/json",
              },
            }
          );
          if (res.ok) {
            const data = await res.json();
            if (data.expired) {
              alert("Your Payment has expired");
              if (localStorage.payStatus) {
                localStorage.removeItem("payStatus");
              }
            } else {
              window.location.href = `/card.html?productId=${productId}&zipCode=${""}&city=${""}`;

              // window.location.href=`card.html?productId=${headers.product}&zipCode=${headers.zipcode || ''}&city=${headers.city || ''}`
              // window.location.href="ASSP/card.html"
              // console.log("Your are good to go");
            }
            // console.log(data);

            // console.log("expire",res.expire);
          }

          // console.log(res);
        } catch (error) {
          console.log(error);
        }
      }
    </script>
  </body>
</html>
